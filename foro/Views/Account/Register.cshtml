@model foro.Web.ViewModels.RegisterViewModel
@{
  ViewData["Title"] = "Crear Cuenta";
}

<div class="container">
    <div class="row justify-content-center mt-5">
        <div class="col-md-8 col-lg-6">
     <div class="card shadow">
    <div class="card-header bg-success text-white text-center">
             <h3><i class="bi bi-person-plus"></i> Crear Cuenta Nueva</h3>
      </div>
   <div class="card-body p-4">
  <form asp-action="Register" method="post">
     <div asp-validation-summary="ModelOnly" class="alert alert-danger" role="alert"></div>

          <input type="hidden" asp-for="ReturnUrl" />

               <!-- Nombre Completo -->
  <div class="mb-3">
       <label asp-for="NombreCompleto" class="form-label"></label>
  <div class="input-group">
   <span class="input-group-text"><i class="bi bi-person"></i></span>
       <input asp-for="NombreCompleto" class="form-control" placeholder="Juan Pérez" autofocus />
      </div>
          <span asp-validation-for="NombreCompleto" class="text-danger small"></span>
         </div>

            <!-- Email -->
             <div class="mb-3">
 <label asp-for="Email" class="form-label"></label>
                <div class="input-group">
          <span class="input-group-text"><i class="bi bi-envelope"></i></span>
               <input asp-for="Email" class="form-control" placeholder="tu@email.com" />
 </div>
         <span asp-validation-for="Email" class="text-danger small"></span>
     <small class="form-text text-muted">Usaremos este correo para iniciar sesión</small>
   </div>

   <!-- Contraseña -->
           <div class="mb-3">
         <label asp-for="Password" class="form-label"></label>
     <div class="input-group">
    <span class="input-group-text"><i class="bi bi-lock"></i></span>
        <input asp-for="Password" class="form-control" placeholder="••••••••" id="Password" />
<button class="btn btn-outline-secondary" type="button" id="togglePassword">
              <i class="bi bi-eye" id="toggleIcon"></i>
    </button>
           </div>
       <span asp-validation-for="Password" class="text-danger small"></span>
  <small class="form-text text-muted">Mínimo 6 caracteres, incluye mayúscula, minúscula y número</small>
      </div>

                  <!-- Confirmar Contraseña -->
  <div class="mb-3">
             <label asp-for="ConfirmPassword" class="form-label"></label>
        <div class="input-group">
                <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
       <input asp-for="ConfirmPassword" class="form-control" placeholder="••••••••" id="ConfirmPassword" />
        <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPassword">
        <i class="bi bi-eye" id="toggleConfirmIcon"></i>
   </button>
         </div>
  <span asp-validation-for="ConfirmPassword" class="text-danger small"></span>
         </div>

            <!-- Biografía (Opcional) -->
         <div class="mb-3">
         <label asp-for="Biografia" class="form-label"></label>
       <textarea asp-for="Biografia" class="form-control" rows="3" 
         placeholder="Cuéntanos un poco sobre ti... (Opcional)"></textarea>
 <span asp-validation-for="Biografia" class="text-danger small"></span>
   </div>

 <!-- Términos y Condiciones -->
              <div class="mb-3 form-check">
 <input asp-for="AceptaTerminos" class="form-check-input" />
     <label asp-for="AceptaTerminos" class="form-check-label">
       Acepto los <a href="#" data-bs-toggle="modal" data-bs-target="#terminosModal">términos y condiciones</a>
       </label>
   <span asp-validation-for="AceptaTerminos" class="text-danger small d-block"></span>
    </div>

     <!-- Botones -->
            <div class="d-grid gap-2 mb-3">
         <button type="submit" class="btn btn-success btn-lg">
<i class="bi bi-person-check"></i> Crear Cuenta
         </button>
              <a asp-action="Login" asp-route-returnUrl="@Model.ReturnUrl" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left"></i> Volver al Login
      </a>
 </div>
    </form>
              </div>
        </div>
  </div>
    </div>
</div>

<!-- Modal de Términos y Condiciones -->
<div class="modal fade" id="terminosModal" tabindex="-1" aria-labelledby="terminosModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
   <div class="modal-content">
            <div class="modal-header bg-success text-white">
      <h5 class="modal-title" id="terminosModalLabel">
            <i class="bi bi-file-text"></i> Términos y Condiciones
    </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
       <h6>1. Aceptación de Términos</h6>
         <p>Al registrarte en este foro, aceptas cumplir con estos términos y condiciones.</p>
        
    <h6>2. Uso Responsable</h6>
      <p>Te comprometes a usar el foro de manera respetuosa y a no publicar contenido ofensivo, ilegal o spam.</p>

        <h6>3. Privacidad</h6>
        <p>Tu información personal será protegida de acuerdo a nuestra política de privacidad.</p>

     <h6>4. Moderación</h6>
              <p>Los moderadores pueden editar o eliminar contenido que viole las normas del foro.</p>

    <h6>5. Propiedad Intelectual</h6>
        <p>El contenido que publiques sigue siendo tuyo, pero otorgas al foro licencia para mostrarlo.</p>
          </div>
            <div class="modal-footer">
  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
  </div>
  </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

    <script>
   // Toggle mostrar/ocultar contraseña
        document.getElementById('togglePassword').addEventListener('click', function() {
    const password = document.getElementById('Password');
            const icon = document.getElementById('toggleIcon');
            
  if (password.type === 'password') {
      password.type = 'text';
        icon.classList.remove('bi-eye');
  icon.classList.add('bi-eye-slash');
  } else {
                password.type = 'password';
             icon.classList.remove('bi-eye-slash');
                icon.classList.add('bi-eye');
    }
        });

    // Toggle confirmar contraseña
        document.getElementById('toggleConfirmPassword').addEventListener('click', function() {
       const confirmPassword = document.getElementById('ConfirmPassword');
            const icon = document.getElementById('toggleConfirmIcon');
     
            if (confirmPassword.type === 'password') {
    confirmPassword.type = 'text';
      icon.classList.remove('bi-eye');
       icon.classList.add('bi-eye-slash');
    } else {
  confirmPassword.type = 'password';
    icon.classList.remove('bi-eye-slash');
            icon.classList.add('bi-eye');
          }
        });
    </script>
}

@section Styles {
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <style>
        .card {
border: none;
          border-radius: 15px;
        }

        .card-header {
        border-radius: 15px 15px 0 0 !important;
            padding: 1.5rem;
        }

.input-group-text {
            background-color: #f8f9fa;
    }

        .form-control:focus {
            border-color: #198754;
     box-shadow: 0 0 0 0.25rem rgba(25, 135, 84, 0.25);
        }
    </style>
}
